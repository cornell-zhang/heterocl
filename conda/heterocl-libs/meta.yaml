{% set version = "0.3" %}
{% set name = "heterocl-libs" %}

package:
  name: "{{ name|lower }}"
  version: {{ version }}

source:
  git_url: https://github.com/Hecmay/heterocl.git
  git_tag: master
  # url: https://github.com/cornell-zhang/heterocl/archive/v0.3.tar.gz
  path: ../..

build:
  number: 0
  string: cuda{{ cuda_version | replace('.', '') }}h{{ PKG_HASH }}_{{ PKG_BUILDNUM }}  # [cuda]

requirements:
  build:
    # The anaconda compilers for OS X are old an annoying
    # so we rely on the platform ones for now
    # - {{ compiler('cxx') }}  # [linux]
    - cmake
    - make
    - future
    - numpy
    - decorator
    - networkx
    - matplotlib
    - backports.functools_lru_cache 
    - ordered-set
    - python >=3.7.6
    - psutil
  host:
    - zlib  # [linux]
  run:
    - python >=3.7.6

about:
  home: https://github.com/cornell-zhang/heterocl
  license: Apache2
